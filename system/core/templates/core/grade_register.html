{% extends 'base.html' %}
{% block content %}
<h2>成績登録</h2>

{% for message in messages %}
  <p style="color: {% if message.tags == 'error' %}red{% else %}green{% endif %};">
    {{ message }}
  </p>
{% endfor %}

<form method="POST">
  {% csrf_token %}
  <label for="subject_id">科目:</label>
  <select name="subject_id" required>
    {% for subject in subjects %}
      <option value="{{ subject.subject_id }}">{{ subject.subject_name }}</option>
    {% endfor %}
  </select>

  <label for="subject_score">成績:</label>
  <select name="subject_score" required>
    {% for i in grade_range %}
      <option value="{{ i }}">{{ i }}</option>
    {% endfor %}
  </select>

  <button type="submit">登録</button>
</form>

<hr>
<h3>登録済み状況</h3>
<table border="1" cellpadding="5">
  <tr><th>科目名</th><th>授業回数</th><th>出席回数</th><th>成績</th></tr>
  {% for subject in subjects %}
    <tr>
      <td>{{ subject.subject_name }}</td>
      <td>{{ subject.lesson_count }}</td>
      <td>{{ subject.attend_days }}</td>
      <td>{{ subject.subject_score }}</td>
    </tr>
  {% endfor %}
</table>
{% endblock %}
